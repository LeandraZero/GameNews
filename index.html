

开始免费试用

分享
pasted_content.txt
文本 · 30.91 KB
为啥左右翻的按钮上有两个箭头：
好的,让我先看看您上传的文件内容,然后为您解答关于左右翻按钮上双箭头的设计问题。
我已确认会读取文件内容，接下来将分析左右翻按钮双箭头设计的细节和用户体验考虑。

我发现左右翻按钮用 `.swiper-button-prev` 和 `.swiper-button-next`，通过CSS用伪元素绘制箭头，样式简洁，位置在横向模式右侧，竖向隐藏，准备后续分析设计细节。

发现双箭头多源自iOS设计，常用于覆盖菜单和双向滚动，简洁且符合不同操作系统的用户习惯，后续会结合官方规范分析细节。

我发现了问题所在!您的代码中注释提到"画chevron",但实际上代码只使用了::before伪元素画了一个箭头。让我创建一个可视化示例来帮您理解这个问题。
发现代码中只用伪元素`::before`画了一个箭头，没有双箭头效果，需要添加`::after`伪元素实现第二个箭头。下一步是调整CSS。

发现只用::before绘制单箭头，需加入::after实现双箭头，将调整CSS以增强左右翻按钮的视觉效果。

我已经完成了对您问题的深入分析。首先需要澄清:您的代码中实际使用的是单箭头设计,每个按钮只有一个chevron箭头图标。如果您看到"两个箭头",可能是指页面上同时存在的两个按钮(上一条和下一条)。
我为您准备了两份文档:
详细解析文档(Markdown格式): 全面解释了双箭头设计的用户体验原理、平台规范差异、适用场景,以及针对您项目的具体建议
可视化对比示例(HTML格式): 直观展示单箭头和双箭头的视觉差异,并提供了实现代码
核心要点:
双箭头的设计原理: 提供更强的视觉暗示、营造连续运动感、区分不同功能层级(单箭头=逐个移动,双箭头=快速跳转)
平台差异: Apple系统中双箭头用于Pop-up Button(选择项目),Windows倾向使用单箭头
您的情况: 卡片式资讯浏览界面,单箭头设计已经足够清晰且符合现代趋势,无需改为双箭头
如果您确实需要实现双箭头效果,文档中提供了完整的CSS实现代码。建议先打开可视化示例查看两种设计的直观对比。
左右翻按钮上的双箭头设计解析
问题澄清
首先需要澄清一个重要的事实:您上传的代码中实际使用的是单箭头设计,而非双箭头。通过分析您的HTML文件(第420-438行),代码只使用了::before伪元素绘制了一个chevron箭头,而::after伪元素被显式设置为display:none。因此,每个导航按钮只显示一个箭头图标。
如果您在界面上看到"两个箭头",可能是指页面上同时存在的两个按钮(一个"上一条"按钮和一个"下一条"按钮),而非单个按钮上有两个箭头图标。
双箭头设计的用户体验原理
尽管您的代码使用的是单箭头,但双箭头设计在UI界面中确实存在,并有其特定的设计理念和应用场景。以下是双箭头设计的核心原理:
1. 视觉强调与可发现性
双箭头通过重复的视觉元素提供更强的视觉暗示,能够更明确地传达"可以翻页"或"可以滚动"的交互可能性。相比单箭头,双箭头在视觉层级上更加突出,特别适合需要引导用户注意的场景。这种设计遵循了视觉冗余原则(visual redundancy),通过增加视觉元素的数量来提升信息的可读性和可发现性。
2. 运动感与连续性暗示
两个箭头排列在一起能够营造出"连续移动"或"持续滚动"的动态感觉。这种设计隐喻来源于物理世界中的运动轨迹——多个箭头暗示着内容可以持续翻动,而非仅仅移动一次。这种视觉隐喻在长列表、图片轮播或视频播放控制中尤为有效,因为它传达了"还有更多内容"的信息。
3. 功能区分与层级表达
在许多设计系统中,单箭头和双箭头被赋予了不同的功能语义,形成了一种视觉语言层级:
箭头类型
常见功能语义
典型应用场景
单箭头
逐个移动、单步翻页
卡片浏览、逐项导航、移动端界面
双箭头
快速跳转、批量移动
跳转到开头/结尾、快速翻页、桌面端复杂列表
这种区分方式在媒体播放器中最为典型:单箭头表示"下一首/上一首",而双箭头表示"快进/快退"。通过视觉符号的差异化,用户无需学习即可理解不同操作的速度和范围。
4. 平台设计规范的影响
不同操作系统和设计系统对箭头样式有不同的偏好和规范:
Apple设计规范(iOS/macOS)中,双箭头(上下两个小三角形)被用于Pop-up Button,这是一种用于从互斥选项列表中进行选择的控件。根据Apple Human Interface Guidelines,Pop-up Button显示一个菜单,用户选择后菜单关闭并更新按钮内容以反映当前选择。这种设计与下拉菜单(Pull-down Button)形成区分:前者用于选择项目,后者用于触发操作。
Windows设计规范则更倾向于使用单箭头(chevron)来表示下拉或展开操作,这种设计在Windows的文件资源管理器、设置界面等系统组件中广泛应用。
Material Design在不同版本中对箭头样式也有演变,早期版本更倾向于使用单箭头保持简洁,而某些变体(如Material Design 3)在特定场景下会使用双箭头来增强视觉冲击力和可操作性提示。
您的代码实现分析
当前实现(单箭头)
您的代码使用CSS的border属性和rotate变换绘制了简洁的chevron箭头:
CSS
.swiper-button-prev.nav-btn::before {
  content: "";
  width: 18px;
  height: 18px;
  border-right: 4px solid currentColor;
  border-bottom: 4px solid currentColor;
  display: block;
  transform: scale(0.7) rotate(135deg);  /* 向上箭头 */
}

.swiper-button-next.nav-btn::before {
  transform: scale(0.7) rotate(-45deg);  /* 向下箭头 */
}
这种实现方式具有以下优点:
代码简洁: 仅使用一个伪元素,无需额外的图标字体或SVG文件
性能优良: CSS绘制的图形渲染效率高,不增加HTTP请求
响应灵活: 使用currentColor可自动适配主题颜色变化
现代审美: 单箭头符合当前扁平化、极简主义的设计趋势
如果需要改为双箭头
如果您确实希望实现双箭头效果,需要同时使用::before和::after伪元素,并调整它们的位置:
CSS
/* 双箭头实现示例 */
.swiper-button-prev.nav-btn::before,
.swiper-button-prev.nav-btn::after {
  content: "";
  position: absolute;
  width: 12px;
  height: 12px;
  border-right: 3px solid currentColor;
  border-bottom: 3px solid currentColor;
  display: block;
  transform: rotate(135deg);
}

.swiper-button-prev.nav-btn::before {
  top: 12px;  /* 第一个箭头位置 */
}

.swiper-button-prev.nav-btn::after {
  top: 20px;  /* 第二个箭头位置(稍微偏下) */
  display: block !important;  /* 覆盖原有的 display:none */
}
设计建议与最佳实践
单箭头适用场景
单箭头设计更适合以下情况:
卡片式内容浏览: 用户逐个查看内容项,如您的游戏资讯双周报
移动端界面: 屏幕空间有限,需要保持视觉简洁
现代简约风格: 追求扁平化、极简主义的设计美学
单步操作: 每次点击只移动一个项目或一页内容
双箭头适用场景
双箭头设计更适合以下情况:
长列表快速导航: 需要快速跳转到列表开头或结尾
媒体播放控制: 区分"下一首"和"快进"等不同速度的操作
强调可滚动性: 在内容较多且不明显的情况下,提示用户可以翻页
桌面端复杂界面: 有足够空间展示更丰富的视觉元素
针对您项目的建议
根据您上传的代码分析,您的项目是一个游戏资讯双周报的卡片式浏览界面,具有以下特征:
使用Swiper实现横向/竖向滑动切换
每张卡片展示一条资讯,支
arrow_comparison.html
代码 · 7.61 KB
查看此任务中的所有文件
这个结果怎么样？
帮我修改代码 我只要一个箭头
Lite
好的，我明白了。您希望修改代码，确保左右翻页按钮上只显示一个箭头。
通过分析您上传的代码，我发现虽然您在 CSS 中已经尝试通过 display:none 隐藏了 ::after 伪元素，但代码结构中可能存在一些冗余或冲突导致视觉上看起来不简洁。
我将为您优化这部分 CSS 代码，确保每个按钮只由 ::before 绘制一个清晰的单箭头，并彻底清理掉 Swiper 默认的图标样式。
正在为您准备修改方案...
已分析代码，确认只需用 `::before` 绘制单箭头，`::after`不必要。下一步将优化CSS，确保按钮显示单箭头，去除多余样式。

检测到 `::after` 已被设为隐藏，按钮箭头由 `::before` 绘制。下一步将删除或忽略 `::after` 样式，确保只用 `::before`显示单箭头。

已删除`::after`内容，确保只用`::before`显示单箭头，通过调整旋转角度实现左右箭头方向。接下来验证效果。

Lite
我已经为您修改了代码，确保左右翻页按钮上只显示一个清晰的箭头。
修改内容说明：
彻底禁用默认图标：通过 display: none !important 禁用了 Swiper 默认的 ::after 伪元素图标，防止其与自定义箭头重叠。
精简自定义样式：统一使用 ::before 伪元素绘制单箭头，移除了之前代码中可能导致视觉混乱的冗余定义。
优化视觉效果：
调整了箭头的粗细（3px）和大小（16px），使其视觉感更加精致。
添加了 transition 过渡效果，使交互更加平滑。
使用了 text-indent 和 font-size: 0 进行极限兜底，确保没有任何杂余文字或图标干扰。
您现在可以直接使用附件中修改后的代码。如果您在实际运行中还有任何视觉上的微调需求，请随时告诉我！
pasted_content.txt
文本 · 30.17 KB
查看此任务中的所有文件
任务已完成
这个结果怎么样？
推荐追问



pasted_content.txt
<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>用增游戏行业双周报</title>

  <!-- Swiper CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.css">
  <!-- Google Fonts - Inter & Noto Sans SC -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&family=Noto+Sans+SC:wght@400;700;900&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #05070a;
      --card-bg: rgba(23, 28, 41, 0.7);
      --accent: #4f6ef7;
      --accent-glow: rgba(79, 110, 247, 0.3);
      --text-primary: #ffffff;
      --text-secondary: #94a3b8;
      --glass-border: rgba(255, 255, 255, 0.08);
      --shadow-lg: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      --radius: 28px;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      margin: 0;
      background-color: var(--bg);
      background-image:
        radial-gradient(circle at 10% 20%, rgba(79, 110, 247, 0.15) 0%, transparent 40%),
        radial-gradient(circle at 90% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 40%);
      color: var(--text-primary);
      font-family: 'Inter', 'Noto Sans SC', system-ui, -apple-system, sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }

    header {
      padding: 40px 24px 20px;
      max-width: 1100px;
      margin: 0 auto;
      width: 100%;
      text-align: center;
    }

    .title {
      font-size: 28px;
      font-weight: 900;
      letter-spacing: -0.5px;
      background: linear-gradient(to right, #fff, #94a3b8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 8px;
    }

    .hint { color: var(--text-secondary); font-size: 14px; opacity: .8; }

    /* toolbar 两行 */
    .toolbar { margin-top: 18px; display: flex; flex-direction: column; align-items: center; gap: 12px; }
    .toolbar-row { width: min(820px, 92vw); display:flex; justify-content:center; align-items:center; gap:12px; flex-wrap:wrap; }

    .search{
      display:flex; align-items:center; gap:10px; width:100%;
      padding:10px 12px; border-radius:16px;
      background: rgba(255,255,255,.04);
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(10px);
    }
    .search input{ flex:1; background:transparent; border:none; outline:none; color:var(--text-primary); font-size:14px; }
    .search input::placeholder{ color: rgba(148,163,184,.85); }

    .clear-btn{
      background: rgba(255,255,255,.06);
      color: var(--text-primary);
      border: 1px solid var(--glass-border);
      padding: 8px 12px;
      border-radius: 12px;
      cursor: pointer;
      white-space: nowrap;
    }

    .toc-wrap{ position:relative; }
    .toc-btn{
      height:44px; padding:0 14px; border-radius:14px;
      background: rgba(255,255,255,.04);
      color: var(--text-primary);
      border: 1px solid var(--glass-border);
      cursor:pointer;
      white-space: nowrap;
    }
    .toc-panel{
      position:absolute; right:0; top:52px;
      width:min(380px, 92vw);
      max-height: 60vh; overflow:auto;
      padding: 14px; border-radius: 18px;
      background: rgba(15,23,42,.92);
      border: 1px solid var(--glass-border);
      box-shadow: var(--shadow-lg);
      display:none; z-index:50; text-align:left;
    }
    .toc-panel.open{ display:block; }
    .toc-title{ font-weight:800; color:#a5b4fc; margin-bottom:10px; }

    .toc-item{
      padding:10px 10px; border-radius:14px; cursor:pointer;
      border:1px solid transparent;
    }
    .toc-item:hover{ background: rgba(255,255,255,.04); border-color: rgba(255,255,255,.08); }

    .toc-item .toc-tag{
      display:inline-block; font-size:11px; color:#a5b4fc; margin-right:8px; opacity:.9;
      flex:0 0 auto;
    }

    .toc-row{ display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
    .toc-left{ min-width:0; flex:1 1 auto; }
    .toc-time{ flex:0 0 auto; font-size:11px; color: rgba(148,163,184,.85); margin-top:1px; white-space:nowrap; }
    .toc-text{
      display:block; color:#eaf0ff; font-size:13px; line-height:1.35; margin-top:2px;
      overflow:hidden; text-overflow:ellipsis;
      display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
    }
    .toc-empty{ color: rgba(148,163,184,.9); font-size:13px; padding:8px 4px; }

    /* 竖向滑动开关 */
    .switch{
      height:44px; display:inline-flex; align-items:center; gap:10px;
      padding:0 14px; border-radius:14px;
      background: rgba(255,255,255,.04);
      border: 1px solid var(--glass-border);
      cursor:pointer; user-select:none; white-space:nowrap;
    }
    .switch input{ display:none; }
    .switch .dot{
      width:34px; height:20px; border-radius:999px;
      background: rgba(255,255,255,.10);
      position:relative; border:1px solid rgba(255,255,255,.10);
    }
    .switch .dot::after{
      content:""; position:absolute; width:14px; height:14px; border-radius:50%;
      top:50%; left:3px; transform: translateY(-50%);
      background: rgba(255,255,255,.85);
      transition: all .2s ease;
    }
    .switch input:checked + .dot{ background: rgba(79,110,247,.25); border-color: rgba(79,110,247,.35); }
    .switch input:checked + .dot::after{ left:17px; background:#a5b4fc; }
    .switch span{ font-size:13px; color:#eaf0ff; opacity:.92; }

    .wrap{
      flex:1; width:100%; max-width:1200px;
      margin:0 auto; padding:0 20px 60px;
      display:flex; align-items:center;
    }

    .swiper{
      width:100%;
      padding:20px 0 60px;
      overflow: visible !important;
      position:relative;
    }

    /* 竖向模式：需要明确高度 */
    body.is-vertical .wrap{ align-items:flex-start; }
    body.is-vertical .swiper{
      height:min(820px, 78vh);
      padding:18px 0;
    }

    .swiper-slide{
      width:auto;
      display:flex;
      justify-content:center;
      transition: transform .4s cubic-bezier(.2,.8,.2,1);
    }

    .flip{
      width:min(90vw, 420px);
      height:min(70vh, 600px);
      perspective:2000px;
    }
    body.is-vertical .flip{ height:100%; width:min(92vw, 440px); }
    body.is-vertical .swiper-slide{ height:100%; display:flex; align-items:stretch; }

    .flip-inner{
      position:relative; width:100%; height:100%;
      transform-style:preserve-3d;
      transition: transform .7s cubic-bezier(.4,0,.2,1);
    }
    .flip.is-flipped .flip-inner{ transform: rotateY(180deg); }

    .card{
      position:absolute; inset:0;
      border-radius: var(--radius);
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border:1px solid var(--glass-border);
      box-shadow: var(--shadow-lg);
      overflow:hidden;
      backface-visibility:hidden;
      display:flex; flex-direction:column;
    }

    .front{ position:relative; padding:32px; padding-bottom:96px; }
    .meta{ display:flex; align-items:center; gap:12px; margin-bottom:20px; }

    .tag{
      padding:6px 14px; border-radius:100px;
      background: var(--accent-glow);
      border:1px solid rgba(79,110,247,.3);
      color:#a5b4fc;
      font-size:12px; font-weight:700;
      text-transform:uppercase;
      letter-spacing:.5px;
    }
    .time{ color: var(--text-secondary); font-size:12px; font-weight:500; }

    .headline{
      font-size: clamp(22px, 5vw, 28px);
      font-weight:800; line-height:1.3;
      margin-bottom:16px;
      color: var(--text-primary);
    }
    .summary{
      color:#cbd5e1;
      font-size:16px; line-height:1.6;
      margin-bottom:24px;
      display:-webkit-box;
      -webkit-line-clamp:6;
      -webkit-box-orient:vertical;
      overflow:hidden;
    }

    .cover{
      display:flex; align-items:center; justify-content:center;
      background:#0f172a;
      position:relative;
      border-radius:18px;
      overflow:hidden;
      flex:1;
      min-height:200px;
    }
    .cover img{ width:100%; height:100%; object-fit:contain; object-position:center; }
    .cover::after{
      content:""; position:absolute; inset:0;
      background: linear-gradient(to top, rgba(5,7,10,.65), rgba(5,7,10,0) 60%);
      pointer-events:none;
    }

    .front-footer{
      position:absolute; left:24px; bottom:24px;
      display:flex; gap:12px;
    }

    .btn{
      background: var(--text-primary);
      color: var(--bg);
      border:none;
      padding:12px 24px;
      border-radius:14px;
      font-weight:700;
      font-size:14px;
      cursor:pointer;
      transition: all .3s ease;
      box-shadow: 0 4px 12px rgba(255,255,255,.1);
    }
    .btn:hover{
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255,255,255,.2);
    }

    .btn-secondary{
      background: rgba(255,255,255,.05);
      color: var(--text-primary);
      border: 1px solid var(--glass-border);
    }

    .back{
      transform: rotateY(180deg);
      padding:32px;
      background:#0f172a;
    }
    .back h2{
      font-size:20px; font-weight:800;
      margin:0 0 20px 0;
      color: var(--accent);
    }
    .detail{
      flex:1;
      color:#94a3b8;
      font-size:15px;
      line-height:1.7;
      overflow-y:auto;
      padding-right:10px;
      white-space:pre-wrap;
    }
    .detail::-webkit-scrollbar{ width:4px; }
    .detail::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.1); border-radius:10px; }

    .back-footer{ margin-top:24px; display:flex; gap:12px; }
    .link-btn{
      flex:1; text-align:center; text-decoration:none;
      background: var(--accent);
      color:white;
      padding:12px;
      border-radius:14px;
      font-weight:700;
      font-size:14px;
    }

    .swiper-pagination-bullet{
      background: var(--text-secondary);
      opacity:.2;
      width:10px; height:10px;
      margin:0 6px !important;
    }
    .swiper-pagination-bullet-active{
      background: var(--accent);
      opacity:1;
      width:24px;
      border-radius:5px;
    }

    /* 竖向模式：分页点右侧竖排 */
    body.is-vertical .swiper-pagination{
      position:absolute;
      right:18px; left:auto;
      top:50%; bottom:auto;
      transform: translateY(-50%);
      width:auto;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    body.is-vertical .swiper-pagination-bullet{ margin:0 !important; }

    /* =========================
       右侧悬浮导航按钮
       ========================= */
    .nav-btn{
      position:absolute;
      z-index:20;
      width:44px; height:44px;
      border-radius:999px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      background: rgba(255,255,255,.04);
      border:1px solid var(--glass-border);
      backdrop-filter: blur(12px);
      color:#eaf0ff;
      cursor:pointer;
      transition: all .25s ease;
      user-select:none;
      padding:0;
    }
    .nav-btn:hover{
      background: rgba(255,255,255,.10);
      border-color: rgba(79,110,247,.35);
      color:#a5b4fc;
      transform: translateY(-1px);
    }
    .nav-btn:focus-visible{
      outline: 2px solid rgba(79,110,247,.55);
      outline-offset:3px;
    }

    /* ✅ 竖向模式隐藏按钮 */
    body.is-vertical .nav-btn{ display:none !important; }
    body.is-vertical .swiper{ padding-right: 0; }

    /* 桌面端：按钮贴右侧，竖排居中（横向模式用） */
    @media (min-width: 769px) {
      .swiper { padding-right: 92px; } /* 给右侧按钮留安全区 */
      .swiper-button-prev,
      .swiper-button-next{
        left:auto !important;
        right:16px !important;
        transform:none !important;
      }
      .swiper-button-prev{ top: calc(50% - 34px) !important; }
      .swiper-button-next{ top: calc(50% + 34px) !important; }
    }

    /* 横向模式：非当前卡片虚焦 */
    body:not(.is-vertical) .swiper-slide .flip{
      transition: filter .25s ease, opacity .25s ease, transform .25s ease;
    }
    body:not(.is-vertical) .swiper-slide:not(.swiper-slide-active) .flip{
      filter: blur(2.6px);
      opacity:.45;
      transform: scale(.965);
    }
    body:not(.is-vertical) .swiper-slide-active .flip{
      filter:none;
      opacity:1;
      transform: scale(1);
    }

    /* 移动端：隐藏导航按钮 */
    @media (max-width: 768px) {
      header { padding: 30px 20px 10px; }
      .title { font-size: 24px; }
      .nav-btn { display: none; }
      .front { padding: 24px; }
    }


    /* ✅ 彻底禁用 Swiper 默认的所有图标内容 */
    .swiper-button-prev::after,
    .swiper-button-next::after {
      display: none !important;
      content: none !important;
    }

    /* ✅ 统一设置自定义箭头的基本样式 (只使用 ::before) */
    .nav-btn.swiper-button-prev::before,
    .nav-btn.swiper-button-next::before {
      content: "";
      display: block;
      width: 16px;
      height: 16px;
      border-right: 3px solid currentColor;
      border-bottom: 3px solid currentColor;
      transform-origin: center;
      transition: all 0.2s ease;
    }

    /* ✅ 分别设置左右箭头的旋转角度 */
    .nav-btn.swiper-button-prev::before {
      transform: rotate(135deg) scale(0.8);
    }

    .nav-btn.swiper-button-next::before {
      transform: rotate(-45deg) scale(0.8);
    }

    /* ✅ 兜底清理：确保没有其他元素干扰 */
    .swiper-button-prev,
    .swiper-button-next {
      font-size: 0 !important;
      line-height: 0 !important;
      text-indent: -9999px !important;
    }

  </style>
</head>

<body>
  <header>
    <div class="title">每周游戏资讯</div>
    <div class="hint" id="hintText">滑动切换卡片 · 点击查看更多内容</div>

    <div class="toolbar">
      <div class="toolbar-row">
        <div class="search">
          <input id="searchInput" type="search" placeholder="搜索标题 / 标签 / 关键词…" />
          <button id="clearBtn" class="clear-btn" type="button">清空</button>
        </div>
      </div>

      <div class="toolbar-row">
        <div class="toc-wrap">
          <button id="tocToggle" class="toc-btn" type="button">目录</button>
          <div id="tocPanel" class="toc-panel">
            <div class="toc-title">目录</div>
            <div id="tocList" class="toc-list"></div>
          </div>
        </div>

        <label class="switch" for="dirToggle" title="切换横向/竖向滑动">
          <input id="dirToggle" type="checkbox" />
          <span class="dot"></span>
          <span>竖向滑动</span>
        </label>
      </div>
    </div>
  </header>

  <div class="wrap">
    <div class="swiper">
      <div class="swiper-wrapper" id="slides"></div>
      <div class="swiper-pagination"></div>

      <!-- 导航按钮：横向显示；竖向会被 CSS 隐藏 -->
      <button class="nav-btn swiper-button-prev" type="button" aria-label="上一条"></button>
      <button class="nav-btn swiper-button-next" type="button" aria-label="下一条"></button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.js"></script>
  <script>
    const reports = [
      {
        tag: "竞品宣发",
        time: "2026-01",
        title: "《明日方舟：终末地》全球公测：四年节奏管理+全球投放拉高声量，但首日PayPal事故放大负面舆情",
        summary:
          "鹰角用近四年的宣发节奏（概念PV→多轮测试→国际展会节点→Apple Event→公测前瞻/预下载→1月22日全球公测）叠加大陆与海外线上线下投放，提前建立全球认知基础与首发声量；但公测首日PayPal被盗刷/异常扣款争议集中爆发，官方禁用PayPal并审查交易、对受影响订单全额退款，负面舆情被高期待放大。",
        detail: `当产品期待和影响力被拉高时，任何基础设施层面的失误都会被成倍放大。未来新游进入全球同步发行阶段，支付与账户安全等“非内容模块”需要被视为首发体验的一部分，甚至应优先于商业化规模扩张进行验证，避免在声量最高的窗口期消耗用户信任。`,
        source: "#（你这段里未给出链接，可后补）",
        cover: "images/endfield.png",
      },

      {
        tag: "行业信息",
        time: "2026-01",
        title: "ST报告：生成式AI成为移动生态关键增长动力，非游戏应用收入首次超过游戏应用收入",
        summary:
          "ST报告指出：2025年生成式AI逐渐成为移动设备生态的关键组成部分；非游戏应用的收入首次超过游戏应用收入，主要由ChatGPT、社交媒体、视频流媒体与生产力工具等带动；移动游戏需要与更多App争夺用户时间。",
        detail: `注意力经济横跨多个领域：如今，游戏需要与社交媒体、短剧和人工智能应用争夺用户时间。吸引用户注意力是实现盈利、提高用户留存率和实现长期增长的最有效途径。`,
        source: "#https://sensortower.com/report/state-of-mobile-2026/download",
        cover: "images/ST2026.png",
      },

      {
        tag: "行业信息",
        time: "2026-01",
        title: "法国推动立法：禁止15岁以下未成年人使用社交媒体平台，最快下一个学年实施",
        summary:
          "2026年1月，法国国民议会通过法案方向，拟禁止15岁以下未成年人使用社交媒体平台，并推动加速立法，最快将于下一个学年正式实施。预计会对未来未成年人宣发造成阻力；这是继澳大利亚之后第二个采取此类措施的国家，同时巴西等国也在同步推进类似立法。",
        detail: `未成年人相关的监管正在加速外溢到更多国家。对宣发而言，影响不是“某一条政策”，而是长期趋势：面向未成年人的触达和表达空间会越来越窄，需要提前预案“投放/内容/渠道”在不同市场的合规边界。`,
        source: "#（你这段里未给出链接，可后补）",
        cover: "images/France15.png",
      },

      {
        tag: "行业信息",
        time: "2026-01",
        title: "2026年首批游戏版号发布：进口版号含腾讯《彩虹六号：攻势》、金山世游《愤怒的小鸟》系列等",
        summary:
          "2026年首批版号公布，进口版号包括腾讯《彩虹六号：攻势》、金山世游《愤怒的小鸟：经典归来》《愤怒的小鸟：梦幻爆破》等过审；从近一年每月版号下发数量来看，国产版号获批数量呈间断性增长，本月177个为近一年次高。",
        detail: `版号节奏仍是影响产品排期与宣发节点的关键变量，尤其在“窗口期竞争”更激烈的年份，越需要把内容节奏与宣发节点做成可伸缩模块，避免被动重排造成资源浪费。`,
        source: "#https://www.nppa.gov.cn/bsfw/jggs/yxspjg/gcwlyxspxx/202601/t20260126_947903.html",
        cover: "images/2026game.png",
      },

      {
        tag: "UGC相关",
        time: "2026-01",
        title: "Bruno Mars在《Roblox》UGC游戏Steal a Brainrot中的虚拟演出，最高吸引1280万同时在线用户",
        summary:
          "该演出在14个国家同步直播，直播观看人数约1000万；活动期间共发放542万件定制brainrot收藏品，并在社交平台上累计产生5300万次视频观看。",
        detail: `虚拟演出对 Roblox 和 Fortnite 这种产品的价值是同时在做拉新召回、破圈和商业化。它的超高同时在线用户人数也可以证明平台服务器可以支持大规模同步事件；演出内容又会被用户录屏二创扩散到各个社交平台，破圈传播；同时通过皮肤、道具、收藏品和品牌合作，把热度直接转成收入。`,
        source: "#https://www.musicbusinessworldwide.com/bruno-mars-pulls-record-12-8m-concurrent-users-to-roblox-concert/",
        cover: "images/mars.png",
      },

      {
        tag: "UGC相关",
        time: "2026-01",
        title: "Fortnite开放第三方创作者内购后，《Steal the Brainrot》上线高价礼包与类赌博转盘引争议，Epic紧急收紧规则",
        summary:
          "Fortnite在2026年初正式开放第三方创作者内购后，头部UGC项目《Steal the Brainrot》迅速上线高价礼包（约45美元）与类赌博转盘机制，引发强烈不满；争议点包括上线不足24小时即引入高价随机礼包与概率转盘、以及“虚假折扣”等合规灰区。随后Epic紧急收紧规则，禁止付费影响抽奖结果。",
        detail: `无论是否引入创作者变现，在保证共创/UGC生态健康可循环的同时，也需要为规则快速迭代预留空间，避免生态在早期因激进或不合规设计透支品牌信用。`,
        source: "#（你这段里未给出链接，可后补）",
        cover: "images/fornite.png",
      },

      {
        tag: "UGC相关",
        time: "2026-01",
        title: "Rockstar推出官方MOD市场Cfx Marketplace：基于FiveM/RedM构建，可能预示GTA未来UGC进一步官方化",
        summary:
          "Rockstar近日推出官方MOD市场Cfx Marketplace，基于两大非官方平台FiveM和RedM构建；平台以“官方策展式数字商店”形态允许创作者分发并定价出售脚本、地图、道具等内容（部分免费、部分付费，价格可达数百美元），并为服务器管理员与玩家提供统一、安全的获取渠道；目前仍处于分阶段上线，首批创作者多为Rockstar参与共建的合作方。",
        detail: `如果UGC开始被官方“市场化+策展化”，它就不再只是内容生态，而会变成平台能力的一部分：统一分发、统一安全、统一交易。对平台型产品来说，这类基础设施的搭建，可能比单次爆款内容更能决定生态上限。`,
        source: "#（你这段里未给出链接，可后补）",
        cover: "images/cfx.png",
      },

      {
        tag: "产品相关",
        time: "2026-01",
        title: "《Fable》确认2026年秋季登陆Xbox/PC/PS5：提出“Living Population”，强调非AI、全手工制作",
        summary:
          "1月22日Xbox Developer Direct上，Playground Games披露重启版《Fable》（非原先三部曲续作），确认2026年秋季登陆Xbox、PC及PS5。设计上强调“没有借用AI全靠手搓”，提出“Living Population”概念：超过1000名NPC拥有独立身份、作息与价值观，并会记住玩家行为形成不同评价；多平台同步发行也延续微软近年的去独占策略。",
        detail: `“Living Population”这种卖点的价值在于：它把长期体验的差异化写进系统里，而不是只靠叙事/包装。再叠加多平台同步发行，平台被弱化、内容被强化，最终拼的就是“游戏本身能不能提供持续被讨论与被记住的体验”。`,
        source: "#（你这段里未给出链接，可后补）",
        cover: "images/fable.png",
      },

      {
        tag: "产品相关",
        time: "2026-01",
        title: "《无尽冬日》联动「影视飓风」：零下30℃、100小时雪地生存直播，把核心玩法映射到现实",
        summary:
          "《无尽冬日》与头部内容团队「影视飓风」联动，通过零下30℃、100小时不间断雪地生存直播引发超5万人在线观看。直播以“无物资开局 + AI画图换物资”的规则展开，对应游戏中“开局点火炉，步步攒资源”的核心玩法；不同于常规代言，这次把游戏系统拆解成可被创作者直接运用的挑战规则，形成破圈传播与玩法教学。",
        detail: `宣发不只是短视频种草或明星代言：把玩法映射到现实的真人直播能建立真实感、可信度，也有破圈潜力。对品牌方是一次放大的“玩法教学+IP叙事”，对创作者是可持续的内容规则，天然更容易双赢。`,
        source: "#（你这段里未给出链接，可后补）",
        cover: "images/tim.png",
      },
    ];

    const container = document.getElementById('slides');
    const hintText = document.getElementById('hintText');
    const dirToggle = document.getElementById('dirToggle');

    let swiper;
    let currentList = [...reports];
    let isVertical = false;

    function setDirectionUI() {
      document.body.classList.toggle('is-vertical', isVertical);
      hintText.textContent = isVertical
        ? '上下滑动切换卡片 · 点击查看更多内容'
        : '左右滑动切换卡片 · 点击查看更多内容';
    }

    function resetFlips(){
      document.querySelectorAll('.flip.is-flipped')
        .forEach(el => el.classList.remove('is-flipped'));
    }

    function normalizeSource(s){
      if(!s) return "";
      // 兼容你写的 "#https://xxx"（否则会变成锚点链接）
      if (s.startsWith("#http")) return s.slice(1);
      if (s === "#") return "";
      // 你写 "#（未给出链接）" 这种也当作无链接
      if (s.startsWith("#（")) return "";
      return s;
    }

    function initSwiper() {
      if (swiper) swiper.destroy(true, true);

      swiper = new Swiper('.swiper', {
        direction: isVertical ? 'vertical' : 'horizontal',
        effect: 'slide',
        grabCursor: true,
        centeredSlides: true,
        slidesPerView: isVertical ? 1 : 'auto',
        spaceBetween: isVertical ? 20 : 30,

        mousewheel: isVertical ? { forceToAxis: true, releaseOnEdges: true } : false,
        pagination: { el: '.swiper-pagination', clickable: true },

        navigation: isVertical
          ? false
          : { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },

        breakpoints: isVertical
          ? { 320: { spaceBetween: 16 }, 768: { spaceBetween: 20 } }
          : { 320: { spaceBetween: 20 }, 768: { spaceBetween: 40 } },

        slideToClickedSlide: true,
        watchSlidesProgress: true,

        on: { init() { this.update(); } }
      });

      swiper.update();
    }

    function renderSlides(list) {
      container.innerHTML = "";
      list.forEach((item, index) => {
        const slide = document.createElement('div');
        slide.className = 'swiper-slide';

        const sourceUrl = normalizeSource(item.source);
        const hasSource = !!sourceUrl;

        slide.innerHTML = `
          <div class="flip" id="card-${index}">
            <div class="flip-inner">
              <div class="card front">
                <div class="meta">
                  <span class="tag">${item.tag}</span>
                  <span class="time">${item.time}</span>
                </div>
                <div class="headline">${item.title}</div>
                <div class="summary">${item.summary}</div>

                <div class="cover">
                  ${item.cover ? `<img src="${item.cover}" alt="" loading="lazy">` : ""}
                </div>

                <div class="front-footer">
                  <button class="btn" onclick="toggleFlip(${index})">查看详情</button>
                </div>
              </div>

              <div class="card back">
                <h2>深度解析</h2>
                <div class="detail">${item.detail}</div>
                <div class="back-footer">
                  <button class="btn btn-secondary" onclick="toggleFlip(${index})">返回</button>
                  ${hasSource ? `<a href="${sourceUrl}" target="_blank" rel="noopener" class="link-btn">阅读原文</a>` : ''}
                </div>
              </div>
            </div>
          </div>
        `;
        container.appendChild(slide);
      });

      initSwiper();
    }

    function renderTOC(list) {
      const tocList = document.getElementById("tocList");
      if (!tocList) return;

      if (!list.length) {
        tocList.innerHTML = `<div class="toc-empty">没有匹配结果</div>`;
        return;
      }

      tocList.innerHTML = list.map((item, idx) => `
        <div class="toc-item" data-idx="${idx}">
          <div class="toc-row">
            <div class="toc-left">
              <span class="toc-tag">${item.tag}</span>
              <span class="toc-text">${item.title}</span>
            </div>
            <span class="toc-time">${item.time || ""}</span>
          </div>
        </div>
      `).join("");

      tocList.querySelectorAll(".toc-item").forEach(el => {
        el.addEventListener("click", () => {
          const i = Number(el.dataset.idx);
          swiper.slideTo(i, 500);
          closeTOC();
        });
      });
    }

    function normalizeText(s) {
      return (s ?? "").toString().toLowerCase();
    }

    function applyFilter() {
      const q = normalizeText(document.getElementById("searchInput")?.value).trim();
      if (!q) {
        currentList = [...reports];
      } else {
        currentList = reports.filter(item => {
          const hay = [item.tag, item.time, item.title, item.summary, item.detail]
            .map(normalizeText).join(" ");
          return hay.includes(q);
        });
      }
      resetFlips();
      renderSlides(currentList);
      renderTOC(currentList);
    }

    function toggleFlip(index) {
      const card = document.getElementById(`card-${index}`);
      if (card) card.classList.toggle('is-flipped');
    }
    window.toggleFlip = toggleFlip;

    /* 搜索框事件 */
    document.getElementById("searchInput")?.addEventListener("input", debounce(applyFilter, 120));
    document.getElementById("clearBtn")?.addEventListener("click", () => {
      const input = document.getElementById("searchInput");
      if (input) input.value = "";
      applyFilter();
    });

    /* 竖向开关事件 */
    dirToggle?.addEventListener("change", () => {
      isVertical = !!dirToggle.checked;
      resetFlips();
      setDirectionUI();
      initSwiper();
      swiper.slideTo(0, 0);
    });

    /* 目录开关 */
    const tocToggle = document.getElementById("tocToggle");
    const tocPanel = document.getElementById("tocPanel");
    function closeTOC(){ tocPanel?.classList.remove("open"); }
    tocToggle?.addEventListener("click", () => tocPanel?.classList.toggle("open"));
    document.addEventListener("click", (e) => {
      if (!tocPanel || !tocToggle) return;
      const target = e.target;
      if (tocPanel.contains(target) || tocToggle.contains(target)) return;
      closeTOC();
    });

    function debounce(fn, wait){
      let t;
      return (...args) => {
        clearTimeout(t);
        t = setTimeout(() => fn(...args), wait);
      };
    }

    /* 首次渲染 */
    setDirectionUI();
    renderSlides(currentList);
    renderTOC(currentList);
  </script>
</body>
</html>
